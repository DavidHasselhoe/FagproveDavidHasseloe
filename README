# StikkUt ‚Äì Turregistrering, Konkurranser og Lotteri

StikkUt er en moderne webapplikasjon for turregistrering, konkurranser og lotteritrekning. L√∏sningen er utviklet som en fullstack-applikasjon med Node.js/Express p√• backend, PostgreSQL som database og et responsivt frontend-grensesnitt bygget med HTML, CSS (Bootstrap + egendefinerte stiler) og JavaScript.

---

## Kom i gang

### **Forutsetninger**

- **Docker & Docker Compose**  
  Last ned og installer: [Docker Desktop](https://www.docker.com/products/docker-desktop)
- **Git**  
  Last ned og installer: [Git](https://git-scm.com/)
- **pgAdmin (valgfritt)**  
  Brukes for √• administrere databasen. Webversjonen starter automatisk p√• http://localhost:8080, men du kan ogs√• laste ned skrivebordsversjonen fra [pgadmin.org](https://www.pgadmin.org/).

---

### **Installasjon og oppstart**

1. **Klon prosjektet**

   ```bash
   git clone https://github.com/DavidHasselhoe/FagproveDavidHasseloe.git
   cd StikkUt-app
   ```

2. **Start applikasjonen og databasen**
   S√∏rg for at Docker Desktop kj√∏rer i bakgrunnen, og kj√∏r deretter:

   ```bash
   docker compose up --build
   ```

   Dette starter:

   - Node.js-applikasjonen p√• port **3000**
   - PostgreSQL-databasen p√• port **5432**
   - pgAdmin p√• port **8080**

   > **Merk:** Du trenger ikke √• opprette en `.env`-fil. Alle n√∏dvendige milj√∏variabler er allerede satt i `docker-compose.yml` for enkel lokal utvikling.

3. **√Öpne applikasjonen**
   - G√• til [http://localhost:3000](http://localhost:3000) for √• bruke StikkUt-appen.
   - G√• til [http://localhost:8080](http://localhost:8080) for √• administrere databasen med pgAdmin.

---

## üóÑÔ∏è Database og pgAdmin

- **pgAdmin** er forh√•ndskonfigurert via `pgadmin-servers.json`. N√•r du √•pner pgAdmin i nettleseren, vil du se serveren "ShtikkUt Database" ferdig satt opp.
- **Innlogging pgAdmin:**
  - **E-post:** `admin@admin.com`
  - **Passord:** `admin`
- **Database-tilkobling:**
  - **Host:** `postgres`
  - **Port:** `5432`
  - **Brukernavn:** `postgres`
  - **Passord:** `DavidDBSU1!`
  - **Database:** `ShtikkUtApp`

---

## Stoppe tjenester

For √• stoppe alle tjenester, kj√∏r:

```bash
docker compose down
```

---

## Gi admin-rettigheter til en bruker

1. √Öpne pgAdmin p√• [http://localhost:8080](http://localhost:8080)
2. Koble til databasen `ShtikkUtApp`
3. H√∏yreklikk p√• databasen ‚Üí **Query Tool**
4. Lim inn og kj√∏r f√∏lgende SQL (bytt ut e-posten med √∏nsket bruker):
   ```sql
   UPDATE users
   SET is_admin = TRUE
   WHERE email = 'test@example.com';
   ```

---

## Teknisk informasjon

- **Backend:** Node.js, Express, JWT (autentisering), bcrypt (passordhashing)
- **Database:** PostgreSQL
- **Frontend:** HTML, CSS (Bootstrap), JavaScript
- **Containerisering:** Docker Compose
- **Milj√∏variabler:** Satt i `docker-compose.yml` for enkel lokal oppstart

---

## Merknader

- Dette oppsettet er ment for lokal utvikling og testing.
- For produksjon anbefales det √• bruke egne milj√∏variabler og sikre passord.

---

**Lykke til med utviklingen!**
